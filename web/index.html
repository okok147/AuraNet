<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light" />

    <title>AuraNet</title>
    <meta
      name="description"
      content="Activity logger + aura blending + paper sketch map."
    />

    <link rel="icon" href="./favicon.svg" type="image/svg+xml" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&family=IBM+Plex+Sans:wght@500;600;700&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <link rel="stylesheet" href="./styles.css" />

    <script
      defer
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <script defer src="./app.js"></script>
  </head>
  <body>
    <div class="bg" aria-hidden="true"></div>

    <header class="shell">
      <div class="topbar">
        <div class="brand">
          <div class="mark" aria-hidden="true">
            <span class="mark__glyph">A</span>
          </div>
          <div class="brand__text">
            <div class="brand__name">AuraNet</div>
            <div class="brand__tag">Terminal layout. Warm light theme.</div>
          </div>
        </div>
        <div class="hud">
          <div class="hud__clock" id="clock" aria-label="Local time"></div>
          <label class="lang" aria-label="Language">
            <span class="lang__label" data-i18n="ui_language">Language</span>
            <select class="lang__select" id="langSelect">
              <option value="en">English</option>
              <option value="zh-Hant">繁體中文</option>
              <option value="ja">日本語</option>
            </select>
          </label>
          <div
            class="pill pill--ok"
            id="storagePill"
            title="Saved locally in your browser"
          >
            LOCAL SAVE: OK
          </div>
        </div>
      </div>
    </header>

    <main class="shell">
      <div class="grid">
        <section class="card card--timer" aria-labelledby="activityTitle">
          <div class="card__head">
            <h2 class="h1" id="activityTitle" data-i18n="activity_title">
              Activity Logger
            </h2>
            <div class="pill pill--muted" id="auraPill">Aura</div>
          </div>

          <div class="activity">
            <div class="activity__time" id="activityTime">00:00:00</div>
            <div
              class="activity__hint"
              id="activityHint"
              data-i18n="activity_hint_idle"
            >
              Log what you’re doing. Your aura blends over time.
            </div>
          </div>

          <form class="activityForm" id="activityForm" autocomplete="off">
            <div class="activityForm__row">
              <label class="field">
                <span class="field__label" data-i18n="activity_label">
                  Activity
                </span>
                <input
                  class="input"
                  id="activityText"
                  name="text"
                  placeholder="Work, commute, gym, coffee…"
                  data-i18n-placeholder="activity_placeholder"
                  minlength="1"
                  maxlength="60"
                  required
                />
              </label>
              <label class="field">
                <span class="field__label" data-i18n="activity_type_label">
                  Type
                </span>
                <select class="input" id="activityType" name="type">
                  <option value="work">Work</option>
                  <option value="study">Study</option>
                  <option value="exercise">Exercise</option>
                  <option value="social">Social</option>
                  <option value="travel">Travel</option>
                  <option value="food">Food</option>
                  <option value="rest">Rest</option>
                </select>
              </label>
            </div>

            <label class="toggle">
              <input type="checkbox" id="activityShowAura" />
              <span data-i18n="activity_show_aura_toggle">
                Show my aura on map while active
              </span>
            </label>

            <div class="activityForm__actions">
              <button class="btn btn--primary" type="button" id="activityStart">
                <span data-i18n="activity_start">Start</span>
              </button>
              <button class="btn btn--ghost" type="button" id="activityStop" disabled>
                <span data-i18n="activity_stop_log">Stop & log</span>
              </button>
              <button class="btn btn--ghost" type="button" id="activityClear">
                <span data-i18n="activity_clear">Clear log</span>
              </button>
            </div>
          </form>

          <div class="auraRow" aria-label="Long-term aura color">
            <div class="auraSwatch" id="auraSwatch" aria-hidden="true"></div>
            <div class="auraMeta">
              <div class="auraMeta__title" data-i18n="aura_long_term_title">
                Long-term aura
              </div>
              <div class="auraMeta__value" id="auraValue">—</div>
            </div>
          </div>

          <div class="auraViz" aria-label="Aura composition breakdown">
            <div class="auraChart" aria-hidden="true">
              <svg
                class="auraChart__svg"
                id="auraChart"
                viewBox="0 0 120 120"
                width="140"
                height="140"
              ></svg>
              <div class="auraChart__center">
                <div class="auraChart__label" data-i18n="aura_chart_label">
                  Aura
                </div>
                <div class="auraChart__value" id="auraHex">—</div>
              </div>
            </div>
            <ul
              class="auraLegend"
              id="auraLegend"
              aria-label="Aura components"
            ></ul>
          </div>

          <ul class="activityList" id="activityList" aria-label="Recent activities"></ul>

          <div class="toast" id="toast" role="status" aria-live="polite"></div>
        </section>

        <section class="card card--map" aria-labelledby="mapTitle">
          <div class="card__head">
            <h2 class="h1" id="mapTitle" data-i18n="map_title">
              Paper Sketch Map
            </h2>
            <div class="stats" id="mapStatus" data-i18n="map_loading">
              Loading map…
            </div>
          </div>

          <div class="mapWrap" aria-label="Map canvas with paper sketch effect">
            <div
              id="paperMap"
              class="mapCanvas"
              role="application"
              aria-label="Interactive map"
            ></div>
            <div class="mapPaper" aria-hidden="true"></div>
            <div class="mapVignette" aria-hidden="true"></div>
          </div>

          <div class="mapBar">
            <div class="mapActions">
              <button class="btn btn--primary" type="button" id="mapLocate">
                <span data-i18n="map_locate">My location</span>
              </button>
              <button class="btn btn--ghost" type="button" id="mapReset">
                <span data-i18n="map_reset">Reset view</span>
              </button>
              <button class="btn btn--ghost" type="button" id="mapSimToggle">
                Sim auras: ON
              </button>
            </div>
            <div class="mapMeta">
              <span class="badge" id="mapGps">GPS: OFF</span>
              <span class="badge badge--ok" id="mapAuraCount">AURAS: 0</span>
            </div>
          </div>
        </section>
      </div>
    </main>
  </body>
</html>
