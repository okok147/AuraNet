<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Biological Neural Network Growth Simulator</title>
    <meta
      name="description"
      content="Interactive biological neural network simulator showing how practice quality changes synapses, myelin sheath growth, and signal fidelity over time."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./myelin-animation.css" />
    <script src="./myelin-animation.js" defer></script>
  </head>
  <body>
    <main class="sim-shell">
      <header class="hero">
        <p class="eyebrow">Biological Neural Network Lab</p>
        <h1>Practice quality reshapes synapses and myelin over time.</h1>
        <p class="subtitle">
          Choose a scenario and watch how activity patterns reinforce either the
          target circuit or a competing circuit. This model tracks synaptic
          strength, myelin insulation, conduction speed, and signal fidelity.
        </p>
      </header>

      <section class="scenario-grid" aria-label="Practice scenarios">
        <button class="scenario-card is-selected" type="button" data-scenario="correct">
          <span class="scenario-tag">Scenario A</span>
          <h2>Correct practice</h2>
          <p>Accurate repetitions with feedback reinforce the intended pathway.</p>
        </button>
        <button class="scenario-card" type="button" data-scenario="wrong">
          <span class="scenario-tag">Scenario B</span>
          <h2>Wrong practice</h2>
          <p>Repeated errors strengthen competing routes and degrade outcomes.</p>
        </button>
        <button class="scenario-card" type="button" data-scenario="plateau">
          <span class="scenario-tag">Scenario C</span>
          <h2>Repetitive, no growth</h2>
          <p>High repetition with low challenge causes early gains to plateau.</p>
        </button>
        <button class="scenario-card" type="button" data-scenario="progressive">
          <span class="scenario-tag">Scenario D</span>
          <h2>Repetitive, progressive</h2>
          <p>Structured challenge drives sustained plasticity and myelin growth.</p>
        </button>
      </section>

      <section class="control-bar" aria-label="Simulation controls">
        <div class="button-cluster">
          <button id="playPauseButton" class="control-button accent" type="button">
            Pause
          </button>
          <button id="resetButton" class="control-button" type="button">
            Reset to Session 0
          </button>
        </div>

        <label class="range-control" for="playbackRange">
          <span>Simulation pace</span>
          <input id="playbackRange" type="range" min="0.6" max="3" step="0.1" value="1.4" />
          <strong id="playbackValue">1.4x</strong>
        </label>

        <label class="range-control timeline" for="sessionRange">
          <span>Training session</span>
          <input id="sessionRange" type="range" min="0" max="120" step="0.1" value="0" />
          <strong id="sessionValue">0 / 120</strong>
        </label>
      </section>

      <section class="simulation-layout">
        <div class="network-panel">
          <svg
            id="networkDiagram"
            viewBox="0 0 880 420"
            role="img"
            aria-labelledby="networkTitle networkDesc"
          >
            <title id="networkTitle">Biological neural network adaptation simulation</title>
            <desc id="networkDesc">
              Two pathways compete while practice conditions change synaptic
              strength and myelin insulation over many sessions.
            </desc>

            <defs>
              <linearGradient id="targetConnectionGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#2b9a94" />
                <stop offset="100%" stop-color="#78d8bf" />
              </linearGradient>
              <linearGradient id="offConnectionGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#b96f4d" />
                <stop offset="100%" stop-color="#e0a171" />
              </linearGradient>
              <linearGradient id="myelinGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#f4d08a" />
                <stop offset="100%" stop-color="#e6ae51" />
              </linearGradient>
              <radialGradient id="signalGradient" cx="50%" cy="50%" r="50%">
                <stop offset="0%" stop-color="#f8fff8" />
                <stop offset="100%" stop-color="#5dcbb2" />
              </radialGradient>
              <filter id="signalGlow" x="-70%" y="-70%" width="240%" height="240%">
                <feGaussianBlur stdDeviation="4" result="blur" />
                <feMerge>
                  <feMergeNode in="blur" />
                  <feMergeNode in="SourceGraphic" />
                </feMerge>
              </filter>
            </defs>

            <rect class="network-chamber" x="24" y="22" width="832" height="376" rx="34" />

            <path class="route-ghost target" d="M90 190 L250 125 L430 96 L620 126 L790 190" />
            <path class="route-ghost off" d="M90 190 L250 258 L430 286 L620 258 L790 190" />

            <g id="targetConnections">
              <line class="connection target" id="targetConn0" x1="90" y1="190" x2="250" y2="125" />
              <line class="connection target" id="targetConn1" x1="250" y1="125" x2="430" y2="96" />
              <line class="connection target" id="targetConn2" x1="430" y1="96" x2="620" y2="126" />
              <line class="connection target" id="targetConn3" x1="620" y1="126" x2="790" y2="190" />
            </g>

            <g id="offConnections">
              <line class="connection off" id="offConn0" x1="90" y1="190" x2="250" y2="258" />
              <line class="connection off" id="offConn1" x1="250" y1="258" x2="430" y2="286" />
              <line class="connection off" id="offConn2" x1="430" y1="286" x2="620" y2="258" />
              <line class="connection off" id="offConn3" x1="620" y1="258" x2="790" y2="190" />
            </g>

            <g id="targetMyelinBands">
              <ellipse class="myelin-band target" id="targetMyelin0" cx="170" cy="158" rx="33" ry="11" transform="rotate(-22 170 158)" />
              <ellipse class="myelin-band target" id="targetMyelin1" cx="340" cy="110" rx="33" ry="11" transform="rotate(-9 340 110)" />
              <ellipse class="myelin-band target" id="targetMyelin2" cx="525" cy="111" rx="33" ry="11" transform="rotate(9 525 111)" />
              <ellipse class="myelin-band target" id="targetMyelin3" cx="705" cy="158" rx="33" ry="11" transform="rotate(22 705 158)" />
            </g>

            <g id="offMyelinBands">
              <ellipse class="myelin-band off" id="offMyelin0" cx="170" cy="221" rx="29" ry="9" transform="rotate(22 170 221)" />
              <ellipse class="myelin-band off" id="offMyelin1" cx="340" cy="272" rx="29" ry="9" transform="rotate(8 340 272)" />
              <ellipse class="myelin-band off" id="offMyelin2" cx="525" cy="272" rx="29" ry="9" transform="rotate(-8 525 272)" />
              <ellipse class="myelin-band off" id="offMyelin3" cx="705" cy="221" rx="29" ry="9" transform="rotate(-22 705 221)" />
            </g>

            <g id="neurons">
              <circle class="neuron start" cx="90" cy="190" r="23" />
              <circle class="neuron target-node" cx="250" cy="125" r="19" />
              <circle class="neuron target-node" cx="430" cy="96" r="19" />
              <circle class="neuron target-node" cx="620" cy="126" r="19" />
              <circle class="neuron off-node" cx="250" cy="258" r="19" />
              <circle class="neuron off-node" cx="430" cy="286" r="19" />
              <circle class="neuron off-node" cx="620" cy="258" r="19" />
              <circle class="neuron output" cx="790" cy="190" r="23" />

              <circle class="node-ring" data-route="shared" cx="90" cy="190" r="13" />
              <circle class="node-ring" data-route="target" cx="250" cy="125" r="13" />
              <circle class="node-ring" data-route="target" cx="430" cy="96" r="13" />
              <circle class="node-ring" data-route="target" cx="620" cy="126" r="13" />
              <circle class="node-ring" data-route="off" cx="250" cy="258" r="13" />
              <circle class="node-ring" data-route="off" cx="430" cy="286" r="13" />
              <circle class="node-ring" data-route="off" cx="620" cy="258" r="13" />
              <circle class="node-ring" data-route="shared" cx="790" cy="190" r="13" />
            </g>

            <path id="signalTrail" d="" />
            <circle id="signalHalo" cx="90" cy="190" r="16" />
            <circle id="signalPulse" cx="90" cy="190" r="8" />
          </svg>

          <div class="legend">
            <span><i class="dot target"></i>Target circuit</span>
            <span><i class="dot off"></i>Competing circuit</span>
            <span><i class="dot myelin"></i>Myelin wraps</span>
            <span><i class="dot pulse"></i>Action potential</span>
          </div>

          <p id="pathNarration" class="path-narration">
            Signal flow is currently favoring the target circuit.
          </p>
        </div>

        <aside class="metrics-panel">
          <article class="metric-card">
            <h3>Conduction speed</h3>
            <p id="conductionValue" class="metric-value">0 m/s</p>
            <div class="meter"><div id="conductionBar" class="meter-fill target"></div></div>
          </article>

          <article class="metric-card">
            <h3>Signal fidelity</h3>
            <p id="fidelityValue" class="metric-value">0%</p>
            <div class="meter"><div id="fidelityBar" class="meter-fill target"></div></div>
          </article>

          <article class="metric-card">
            <h3>Target circuit strength</h3>
            <p id="targetValue" class="metric-value">0%</p>
            <div class="meter"><div id="targetBar" class="meter-fill target"></div></div>
          </article>

          <article class="metric-card">
            <h3>Off-target strength</h3>
            <p id="offValue" class="metric-value">0%</p>
            <div class="meter"><div id="offBar" class="meter-fill off"></div></div>
          </article>

          <article class="metric-card">
            <h3>Myelin efficiency</h3>
            <p id="myelinValue" class="metric-value">0%</p>
            <div class="meter"><div id="myelinBar" class="meter-fill myelin"></div></div>
          </article>

          <article class="metric-card">
            <h3>Growth direction</h3>
            <p id="growthValue" class="metric-value">0%</p>
            <div class="meter"><div id="growthBar" class="meter-fill growth"></div></div>
          </article>

          <article class="metric-card narrative">
            <h3>Coach note</h3>
            <p id="coachNote">
              High-quality repetitions and immediate correction keep plasticity pointed at the right circuit.
            </p>
          </article>
        </aside>
      </section>

      <section class="chart-panel">
        <div class="chart-header">
          <h2>Network adaptation trend</h2>
          <p id="scenarioNarration">
            Correct practice builds a strong lead in target pathway strength and insulation.
          </p>
        </div>

        <svg id="trendChart" viewBox="0 0 860 260" role="img" aria-label="Trend chart for synaptic and myelin adaptation">
          <rect class="chart-bg" x="0" y="0" width="860" height="260" rx="18" />

          <g class="chart-grid">
            <line x1="56" y1="42" x2="820" y2="42" />
            <line x1="56" y1="98" x2="820" y2="98" />
            <line x1="56" y1="154" x2="820" y2="154" />
            <line x1="56" y1="210" x2="820" y2="210" />
            <line x1="56" y1="210" x2="56" y2="28" />
            <line x1="820" y1="210" x2="56" y2="210" />
          </g>

          <polyline id="targetStrengthLine" class="line target" points="" />
          <polyline id="offStrengthLine" class="line off" points="" />
          <polyline id="myelinLine" class="line myelin" points="" />
          <line id="sessionMarker" class="session-marker" x1="56" y1="28" x2="56" y2="210" />

          <text class="axis-label" x="56" y="236">Session 0</text>
          <text class="axis-label" x="760" y="236">Session 120</text>
          <text class="axis-label" x="14" y="214">Low</text>
          <text class="axis-label" x="12" y="42">High</text>
        </svg>

        <div class="chart-legend">
          <span><i class="line-swatch target"></i>Target synaptic strength</span>
          <span><i class="line-swatch off"></i>Off-target synaptic strength</span>
          <span><i class="line-swatch myelin"></i>Target myelin insulation</span>
        </div>

        <p id="chartInsight" class="chart-insight">
          Early sessions show rapid gains, then performance settles into steady improvements.
        </p>
      </section>

      <section class="principles">
        <article>
          <h3>1. Neurons that fire together wire together</h3>
          <p>
            Accurate repeated firing strengthens the same synapses, making the route easier to recruit next time.
          </p>
        </article>
        <article>
          <h3>2. Myelin improves conduction efficiency</h3>
          <p>
            Frequent activation of the right axons encourages thicker myelin, which increases speed and reliability.
          </p>
        </article>
        <article>
          <h3>3. Repetition alone is not enough</h3>
          <p>
            Low-challenge repetition can maintain activity but eventually limits plasticity and long-term adaptation.
          </p>
        </article>
        <article>
          <h3>4. Progressive challenge sustains growth</h3>
          <p>
            Gradually harder training with corrective feedback keeps both synaptic and myelin adaptation moving forward.
          </p>
        </article>
      </section>
    </main>
  </body>
</html>
